<!DOCTYPE html>
<html lang="es" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#">
<head>
  <link rel="profile" href="http://www.w3.org/1999/xhtml/vocab" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/delphi.jmrds.com/themes/bootstrap/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="shortlink" href="/node/19" />
<link rel="canonical" href="/node/19" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
  <title>Sudoku en Delphi | La web de Seoane</title>
  <style>
@import url("/modules/system/system.base.css?");
</style>
<style>
@import url("/modules/field/theme/field.css?");
@import url("/modules/node/node.css?");
</style>
<style>
@import url("/sites/delphi.jmrds.com/modules/geshifilter/geshifilter.css?");
</style>
<link type="text/css" rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.css" media="all" />
<style>
@import url("/sites/delphi.jmrds.com/themes/bootstrap/css/3.3.5/overrides.min.css?");
</style>
  <!-- HTML5 element support for IE6-8 -->
  <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="/sites/delphi.jmrds.com/modules/jquery_update/replace/jquery/1.10/jquery.min.js?v=1.10.2"></script>
<script src="/misc/jquery.once.js?v=1.2"></script>
<script src="/misc/drupal.js?"></script>
<script src="//cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.js"></script>
<script src="/sites/delphi.jmrds.com/files/languages/es_sB9mP1iixuFRbyZKZVySK7xrSW_2-LRj1vNEXyqwOu8.js?"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"bootstrap","theme_token":"AMmpvEXAXYq4H5ugjvFChBVawQbVVpyamDpwywQjZRQ","js":{"sites\/delphi.jmrds.com\/themes\/bootstrap\/js\/bootstrap.js":1,"sites\/delphi.jmrds.com\/modules\/jquery_update\/replace\/jquery\/1.10\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"\/\/cdn.jsdelivr.net\/bootstrap\/3.3.5\/js\/bootstrap.js":1,"public:\/\/languages\/es_sB9mP1iixuFRbyZKZVySK7xrSW_2-LRj1vNEXyqwOu8.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"sites\/delphi.jmrds.com\/modules\/geshifilter\/geshifilter.css":1,"\/\/cdn.jsdelivr.net\/bootstrap\/3.3.5\/css\/bootstrap.css":1,"sites\/delphi.jmrds.com\/themes\/bootstrap\/css\/3.3.5\/overrides.min.css":1}},"bootstrap":{"anchorsFix":"0","anchorsSmoothScrolling":"0","formHasError":1,"popoverEnabled":"1","popoverOptions":{"animation":1,"html":0,"placement":"right","selector":"","trigger":"click","triggerAutoclose":1,"title":"","content":"","delay":0,"container":"body"},"tooltipEnabled":"1","tooltipOptions":{"animation":1,"html":0,"placement":"auto left","selector":"","trigger":"hover focus","delay":0,"container":"body"}}});</script>
</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-19 node-type-article">
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Pasar al contenido principal</a>
  </div>
    <header id="navbar" role="banner" class="navbar container navbar-default">
  <div class="container">
    <div class="navbar-header">
              <a class="logo navbar-btn pull-left" href="/" title="Inicio">
          <img src="/sites/delphi.jmrds.com/themes/bootstrap/logo.png" alt="Inicio" />
        </a>
      
              <a class="name navbar-brand" href="/" title="Inicio">La web de Seoane</a>
      
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          </div>

          <div class="navbar-collapse collapse" id="navbar-collapse">
        <nav role="navigation">
                      <ul class="menu nav navbar-nav"><li class="first leaf"><a href="/" title="">Inicio</a></li>
<li class="leaf"><a href="/search/node" title="">Buscar</a></li>
<li class="leaf"><a href="/rss.xml" title="">RSS</a></li>
<li class="leaf"><a href="/node/26" title="">Contacto</a></li>
<li class="last leaf"><a href="/user/login" title="">Login</a></li>
</ul>                                      </nav>
      </div>
      </div>
</header>

<div class="main-container container">

  <header role="banner" id="page-header">
    
      </header> <!-- /#page-header -->

  <div class="row">

    
    <section class="col-sm-12">
                  <a id="main-content"></a>
                    <h1 class="page-header">Sudoku en Delphi</h1>
                                                          <div class="region region-content">
    <section id="block-system-main" class="block block-system clearfix">

      
  <article id="node-19" class="node node-article node-promoted clearfix" about="/node/19" typeof="sioc:Item foaf:Document">
    <header>
            <span property="dc:title" content="Sudoku en Delphi" class="rdf-meta element-hidden"></span><span property="sioc:num_replies" content="0" datatype="xsd:integer" class="rdf-meta element-hidden"></span>        <span class="submitted">
            <span property="dc:date dc:created" content="2007-04-27T00:05:19+02:00" datatype="xsd:dateTime" rel="sioc:has_creator">Enviado por <span class="username" xml:lang="" about="/user/1" typeof="sioc:UserAccount" property="foaf:name" datatype="">admin</span> el Vie, 04/27/2007 - 00:05</span>    </span>
      </header>
    <div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>El Sudoku es un pasatiempo que últimamente se ha hecho muy popular. El objetivo es rellenar una cuadrícula de 9×9 celdas (81 casillas) dividida en subcuadrículas de 3×3 (también llamadas "cajas" o "regiones") con las cifras del 1 al 9, partiendo de algunos números ya dispuestos en algunas de las celdas. El objetivo es rellenar las celdas vacías, con un número en cada una de ellas, de tal forma que cada columna, fila y región contenga los números del 1 al 9 sólo una vez.</p>
<!--break--><p>
Resolver este problema con un ordenador resulta relativamente sencillo. Usando un simple método de backtracking podríamos llegar a la solución, pero el probar multitud de combinaciones no parece ser un método muy eficiente. Por eso vamos a darle una vuelta de tuerca y primero vamos a simplificar el puzzle rellenando los huecos en los que <b>solo</b> puede colocarse un numero (los que yo llamo obvios). Aplicamos la simplificación varias veces hasta que no existan más números obvios. Muchos sudokus quedaran resueltos después de este paso, son los llamados de "solución única", sin embargo, existen otros en los que no queda mas remedio que aplicar backtracking para averiguar la solución.</p>
<p>El corazón de este programa lo forman las siguientes funciones:</p>
<div class="geshifilter">
<pre class="delphi geshifilter-delphi" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">type</span>
  TTablero <span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">Array</span><span style="color: #000066;">[</span><span style="color: #0000ff;">0</span><span style="color: #000066;">..</span><span style="color: #0000ff;">8</span><span style="color: #000066;">,</span><span style="color: #0000ff;">0</span><span style="color: #000066;">..</span><span style="color: #0000ff;">8</span><span style="color: #000066;">]</span> <span style="color: #000000; font-weight: bold;">of</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span> 
 
<span style="color: #000000; font-weight: bold;">const</span>
  NUM_FILAS <span style="color: #000066;">=</span> <span style="color: #0000ff;">9</span><span style="color: #000066;">;</span>
  NUM_COLUMNAS <span style="color: #000066;">=</span> <span style="color: #0000ff;">9</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Fila<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> y<span style="color: #000066;">,</span>n<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
  x<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
  x<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">while</span> <span style="color: #000066;">(</span>x &lt; NUM_COLUMNAS<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">and</span> Result <span style="color: #000000; font-weight: bold;">do</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span> <span style="color: #000066;">=</span> n <span style="color: #000000; font-weight: bold;">then</span>
      Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
    <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>x<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Columna<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> x<span style="color: #000066;">,</span>n<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
  y<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
  y<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">while</span> <span style="color: #000066;">(</span>y &lt; NUM_FILAS<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">and</span> Result <span style="color: #000000; font-weight: bold;">do</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span> <span style="color: #000066;">=</span> n <span style="color: #000000; font-weight: bold;">then</span>
      Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
    <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>y<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Cuadrante<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>n<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
 i<span style="color: #000066;">,</span>j<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
 Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
 x<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">(</span>x <span style="color: #000000; font-weight: bold;">div</span> <span style="color: #0000ff;">3</span><span style="color: #000066;">)</span><span style="color: #000066;">*</span><span style="color: #0000ff;">3</span><span style="color: #000066;">;</span>
 y<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">(</span>y <span style="color: #000000; font-weight: bold;">div</span> <span style="color: #0000ff;">3</span><span style="color: #000066;">)</span><span style="color: #000066;">*</span><span style="color: #0000ff;">3</span><span style="color: #000066;">;</span>
 <span style="color: #000000; font-weight: bold;">for</span> j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> y <span style="color: #000000; font-weight: bold;">to</span> y <span style="color: #000066;">+</span> <span style="color: #0000ff;">2</span> <span style="color: #000000; font-weight: bold;">do</span>
   <span style="color: #000000; font-weight: bold;">for</span> i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> x <span style="color: #000000; font-weight: bold;">to</span> x <span style="color: #000066;">+</span> <span style="color: #0000ff;">2</span> <span style="color: #000000; font-weight: bold;">do</span>
     <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> <span style="color: #000066;">=</span> n <span style="color: #000000; font-weight: bold;">then</span>
     <span style="color: #000000; font-weight: bold;">begin</span>
       Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
       Exit<span style="color: #000066;">;</span>
     <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Valido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>n<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> Fila<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>n<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">and</span> Columna<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>x<span style="color: #000066;">,</span>n<span style="color: #000066;">)</span>
    <span style="color: #000000; font-weight: bold;">and</span> Cuadrante<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>n<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Obvio<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> x<span style="color: #000066;">,</span>y<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
 i<span style="color: #000066;">,</span>j<span style="color: #000066;">,</span>n<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
 j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span> n<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
 <span style="color: #000000; font-weight: bold;">for</span> i<span style="color: #000066;">:</span><span style="color: #000066;">=</span><span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">to</span> <span style="color: #0000ff;">9</span> <span style="color: #000000; font-weight: bold;">do</span>
   <span style="color: #000000; font-weight: bold;">if</span> Valido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>i<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
   <span style="color: #000000; font-weight: bold;">begin</span>
     n<span style="color: #000066;">:</span><span style="color: #000066;">=</span> i<span style="color: #000066;">;</span>
     <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>j<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
   <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 <span style="color: #000000; font-weight: bold;">if</span> j<span style="color: #000066;">=</span><span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">then</span>
   Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> n
 <span style="color: #000000; font-weight: bold;">else</span>
   Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">procedure</span> Reducir<span style="color: #000066;">(</span><span style="color: #000000; font-weight: bold;">var</span> Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
 x<span style="color: #000066;">,</span>y<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
 Repetir<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
 <span style="color: #000000; font-weight: bold;">repeat</span>
   Repetir<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
   <span style="color: #000000; font-weight: bold;">for</span> y<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_FILAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
     <span style="color: #000000; font-weight: bold;">for</span> x<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_COLUMNAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
       <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span> <span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
       <span style="color: #000000; font-weight: bold;">begin</span>
         Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> Obvio<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
         <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span> &gt; <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
           Repetir<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
       <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 <span style="color: #000000; font-weight: bold;">until</span> <span style="color: #000000; font-weight: bold;">not</span> Repetir<span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Resolver<span style="color: #000066;">(</span><span style="color: #000000; font-weight: bold;">var</span> Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
 x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>i<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">for</span> y<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_FILAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
   <span style="color: #000000; font-weight: bold;">for</span> x<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_COLUMNAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
     <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span> <span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
     <span style="color: #000000; font-weight: bold;">begin</span>
       Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
       <span style="color: #000000; font-weight: bold;">for</span> i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">to</span> <span style="color: #0000ff;">9</span> <span style="color: #000000; font-weight: bold;">do</span>
         <span style="color: #000000; font-weight: bold;">if</span> Valido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">,</span>i<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
         <span style="color: #000000; font-weight: bold;">begin</span>
           Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> i<span style="color: #000066;">;</span>
           <span style="color: #000000; font-weight: bold;">if</span> Resolver<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
           <span style="color: #000000; font-weight: bold;">begin</span>
             Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
             Exit<span style="color: #000066;">;</span>
           <span style="color: #000000; font-weight: bold;">end</span> <span style="color: #000000; font-weight: bold;">else</span> Tablero<span style="color: #000066;">[</span>x<span style="color: #000066;">,</span>y<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
         <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
       Exit<span style="color: #000066;">;</span>
     <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> Ayudita<span style="color: #000066;">(</span><span style="color: #000000; font-weight: bold;">var</span> Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
  i<span style="color: #000066;">,</span>j<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
  T<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
  T<span style="color: #000066;">:</span><span style="color: #000066;">=</span> Tablero<span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">if</span> Resolver<span style="color: #000066;">(</span>T<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    <span style="color: #000000; font-weight: bold;">for</span> j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_FILAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
      <span style="color: #000000; font-weight: bold;">for</span> i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_COLUMNAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span> 
        <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> &lt;&gt; T<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #000000; font-weight: bold;">begin</span>
          Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> T<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">;</span>
          Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
          Exit<span style="color: #000066;">;</span>
        <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">procedure</span> GenerarTablero<span style="color: #000066;">(</span><span style="color: #000000; font-weight: bold;">var</span> Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">;</span> Dificultad<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
  i<span style="color: #000066;">,</span>j<span style="color: #000066;">,</span>k<span style="color: #000066;">,</span>l<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  <span style="color: #000066;">FillChar</span><span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span><span style="color: #000066;">Sizeof</span><span style="color: #000066;">(</span>Tablero<span style="color: #000066;">)</span><span style="color: #000066;">,</span><span style="color: #0000ff;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span>
  Randomize<span style="color: #000066;">;</span>
  i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">while</span> i &lt; NUM_COLUMNAS <span style="color: #000000; font-weight: bold;">do</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">Random</span><span style="color: #000066;">(</span><span style="color: #0000ff;">9</span><span style="color: #000066;">)</span><span style="color: #000066;">+</span><span style="color: #0000ff;">1</span><span style="color: #000066;">;</span>
    <span style="color: #000000; font-weight: bold;">if</span> Valido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span> i<span style="color: #000066;">,</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">,</span> j<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
    <span style="color: #000000; font-weight: bold;">begin</span>
      Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span><span style="color: #0000ff;">0</span><span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> j<span style="color: #000066;">;</span>
      <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>i<span style="color: #000066;">)</span>
    <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  Resolver<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
  k<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
  <span style="color: #808080; font-style: italic;">// Quitamos algunos obvios</span>
  <span style="color: #000000; font-weight: bold;">while</span> k &lt; <span style="color: #0000ff;">30</span> <span style="color: #000000; font-weight: bold;">do</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">Random</span><span style="color: #000066;">(</span>NUM_COLUMNAS<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
    j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">Random</span><span style="color: #000066;">(</span>NUM_FILAS<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
    <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> &lt;&gt; <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
    <span style="color: #000000; font-weight: bold;">begin</span>
      l<span style="color: #000066;">:</span><span style="color: #000066;">=</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">;</span>
      Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
      <span style="color: #000000; font-weight: bold;">if</span> Obvio<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">)</span>&gt;<span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>k<span style="color: #000066;">)</span>
      <span style="color: #000000; font-weight: bold;">else</span>
        Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> l<span style="color: #000066;">;</span>
    <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  k<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
  <span style="color: #808080; font-style: italic;">// Quitamos algunos que no son obvios</span>
  <span style="color: #000000; font-weight: bold;">while</span> k &lt; Dificultad <span style="color: #000000; font-weight: bold;">do</span>
  <span style="color: #000000; font-weight: bold;">begin</span>
    i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">Random</span><span style="color: #000066;">(</span>NUM_COLUMNAS<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
    j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000066;">Random</span><span style="color: #000066;">(</span>NUM_FILAS<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
    <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> &lt;&gt; <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
    <span style="color: #000000; font-weight: bold;">begin</span>
      l<span style="color: #000066;">:</span><span style="color: #000066;">=</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">;</span>
      Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
      <span style="color: #000000; font-weight: bold;">if</span> Obvio<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">)</span><span style="color: #000066;">=</span><span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #000066;">inc</span><span style="color: #000066;">(</span>k<span style="color: #000066;">)</span>
      <span style="color: #000000; font-weight: bold;">else</span>
        Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> l<span style="color: #000066;">;</span>
    <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
 
<span style="color: #000000; font-weight: bold;">function</span> TableroValido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">:</span> TTablero<span style="color: #000066;">)</span><span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">boolean</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">var</span>
  i<span style="color: #000066;">,</span>j<span style="color: #000066;">,</span>k<span style="color: #000066;">:</span> <span style="color: #000066; font-weight: bold;">Integer</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">begin</span>
  <span style="color: #000000; font-weight: bold;">for</span> i<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_COLUMNAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
    <span style="color: #000000; font-weight: bold;">for</span> j<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">to</span> NUM_FILAS <span style="color: #000066;">-</span> <span style="color: #0000ff;">1</span> <span style="color: #000000; font-weight: bold;">do</span>
    <span style="color: #000000; font-weight: bold;">if</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span> &lt;&gt; <span style="color: #0000ff;">0</span> <span style="color: #000000; font-weight: bold;">then</span>
      <span style="color: #000000; font-weight: bold;">begin</span>
        k<span style="color: #000066;">:</span><span style="color: #000066;">=</span> Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">;</span>
        Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #0000ff;">0</span><span style="color: #000066;">;</span>
        <span style="color: #000000; font-weight: bold;">if</span> <span style="color: #000000; font-weight: bold;">not</span> Valido<span style="color: #000066;">(</span>Tablero<span style="color: #000066;">,</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">,</span>k<span style="color: #000066;">)</span> <span style="color: #000000; font-weight: bold;">then</span>
        <span style="color: #000000; font-weight: bold;">begin</span>
          Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> k<span style="color: #000066;">;</span>
          Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">FALSE</span><span style="color: #000066;">;</span>
          Exit<span style="color: #000066;">;</span>
        <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
        Tablero<span style="color: #000066;">[</span>i<span style="color: #000066;">,</span>j<span style="color: #000066;">]</span><span style="color: #000066;">:</span><span style="color: #000066;">=</span> k<span style="color: #000066;">;</span>
      <span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span>
  Result<span style="color: #000066;">:</span><span style="color: #000066;">=</span> <span style="color: #000000; font-weight: bold;">TRUE</span><span style="color: #000066;">;</span>
<span style="color: #000000; font-weight: bold;">end</span><span style="color: #000066;">;</span></pre></div>
<p>El código completo lo puedes bajar de <a href="/sites/delphi.jmrds.com/adjuntos/sudoku_delphi.zip">aquí</a>. Y el programa ya compilado de <a href="/sites/delphi.jmrds.com/adjuntos/sudoku_windows.zip">aquí</a>.</p>
</div></div></div>    <footer>
        <ul class="links list-inline"><li class="comment_forbidden first last"></li>
</ul>  </footer>
    </article>

</section>
  </div>
    </section>

    
  </div>
</div>

  <footer class="footer container">
      <div class="region region-footer">
    <section id="block-menu-menu-enlaces" class="block block-menu clearfix">

        <h2 class="block-title">Enlaces interesantes</h2>
    
  <ul class="menu nav"><li class="first leaf"><a href="http://www.cadetill.com" title="">Cadetill</a></li>
<li class="leaf"><a href="http://www.delphiaccess.com/forum" title="">DelphiAccess</a></li>
<li class="leaf"><a href="http://www.delphispano.com/" title="">Delphispano</a></li>
<li class="leaf"><a href="http://egostar.delphiaccess.com/" title="">Egostar</a></li>
<li class="leaf"><a href="http://jachguate.wordpress.com/" title="">Jachguate</a></li>
<li class="leaf"><a href="http://neftali.clubdelphi.com/" title="">Neftali</a></li>
<li class="leaf"><a href="http://elpoli.delphiaccess.com/" title="">Poliburro</a></li>
<li class="leaf"><a href="http://theroadtodelphi.wordpress.com/" title="">Rodrigo Ruz</a></li>
<li class="last leaf"><a href="http://salvador.oversistemas.com/" title="">Salvador Gomez</a></li>
</ul>
</section>
<section id="block-block-1" class="block block-block clearfix">

      
  <p>copyright (c) 2007 - 2016 Domingo Seoane</p>

</section>
  </div>
  </footer>
  <script src="/sites/delphi.jmrds.com/themes/bootstrap/js/bootstrap.js?"></script>
</body>
</html>
